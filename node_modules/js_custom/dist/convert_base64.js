/**
 * Created by root on 02/11/16.
 */

var base64 = {
    "input" : "<input id=\"inputFilebase64\" type=\"file\" onchange=\"encodeImageFileAsURL();\" />",
    "preview" : "<div id=\"imgTest\"></div>",
    "encodeImageFileAsURL" : function () {

        var filesSelected = document.getElementById("inputFilebase64").files;

        if (filesSelected.length > 0) {
            var fileToLoad = filesSelected[0];

            var fileReader = new FileReader();

            fileReader.onload = function(fileLoadedEvent) {
                return fileLoadedEvent.target.result; // <--- data: base64

                //var newImage = document.createElement('img');
                //newImage.src = srcData;

                /*document.getElementById("imgTest").innerHTML = newImage.outerHTML;
                 alert("Converted Base64 version is " + document.getElementById("imgTest").innerHTML);
                 console.log("Converted Base64 version is " + document.getElementById("imgTest").innerHTML);
                 */
            }

            fileReader.readAsDataURL(fileToLoad);
        }
    }
}
